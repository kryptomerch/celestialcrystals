{%- liquid
  assign collection = collections[section.settings.collection] | default: collections.all
  assign products_to_show = section.settings.products_to_show | default: 8
-%}

<style>
  .nextgen-jewelry-featured {
    padding: 6rem 0;
    background: var(--color-background);
    position: relative;
  }

  .nextgen-jewelry-featured::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      radial-gradient(circle at 70% 30%, rgba(102, 126, 234, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 30% 70%, rgba(118, 75, 162, 0.08) 0%, transparent 50%);
    pointer-events: none;
  }

  .nextgen-jewelry-featured__title {
    text-align: center;
    font-size: clamp(2rem, 4vw, 3rem);
    margin-bottom: 3rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .nextgen-jewelry-featured__grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }
</style>

<section class="nextgen-jewelry-featured">
  <div class="container">
    <h2 class="nextgen-jewelry-featured__title">
      {{ section.settings.title | default: 'NextGen Jewelry Collection' | escape }}
    </h2>
    
    <div class="nextgen-jewelry-featured__grid">
      {%- for product in collection.products limit: products_to_show -%}
        {% render 'product-card', 
          product_card_product: product, 
          media_aspect_ratio: 'square',
          show_secondary_image: true,
          show_quick_add: true,
          section_id: 'nextgen-jewelry-featured'
        %}
      {%- endfor -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "NextGen Featured",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "NextGen Jewelry Collection"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "label": "Number of products to show",
      "min": 2,
      "max": 12,
      "step": 2,
      "default": 8
    }
  ],
  "presets": [
    {
      "name": "NextGen Featured"
    }
  ]
}
{% endschema %}
